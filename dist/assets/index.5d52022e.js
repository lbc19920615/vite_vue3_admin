var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,l=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&a(e,r,t[r]);if(o)for(var r of o(t))n.call(t,r)&&a(e,r,t[r]);return e},s=(e,o)=>t(e,r(o));import{c as p,u,Q as d,b as c,d as h,e as y,f,h as m,i as g,j as b,E as v,k as w,P as C,l as k,m as x,V as S,n as O,o as E,p as _,F as A,s as P,C as j}from"./index.23ee6f22.js";import{_ as z,c as M,a as $,b as N,d as T,e as D}from"./ext.03204df0.js";import{registerExt2 as I}from"./ext2.26d35912.js";import{_ as R,a as Y,b as Z}from"./FormManager.eb50737c.js";import{FormsMana as H,useFormsMana as B}from"./formsMana.2482dadb.js";import{x as L,r as F,e as U,f as V,g as X,w as J,F as W,A as q,_ as K,i as G,o as Q,a as ee,t as te,h as re,B as oe,k as ie,C as ne,n as ae,M as le,D as se,p as pe,z as ue,H as de,Z as ce,I as he,d as ye}from"./vendor.70e2a6e0.js";import{u as fe}from"./router.08179b34.js";import"http://192.168.1.67:7002/public/expose/main.js";import"http://192.168.1.67:7002/public/expose/ext.js";import"./CommonRender.d6009dc7.js";import"./nodes.a56b7126.js";import"./form.e330999e.js";import"./CodeMirror.080f6ca7.js";function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,r){return(ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function ve(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function we(){we=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(r){t.forEach((function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r=e.prototype;["method","field"].forEach((function(o){t.forEach((function(t){var i=t.placement;if(t.kind===o&&("static"===i||"prototype"===i)){var n="static"===i?e:r;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var o=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===o?void 0:o.call(e)}}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[],o=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!xe(e))return r.push(e);var t=this.decorateElement(e,i);r.push(t.element),r.push.apply(r,t.extras),o.push.apply(o,t.finishers)}),this),!t)return{elements:r,finishers:o};var n=this.decorateConstructor(r,t);return o.push.apply(o,n.finishers),n.finishers=o,n},addElementPlacement:function(e,t,r){var o=t[e.placement];if(!r&&-1!==o.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");o.push(e.key)},decorateElement:function(e,t){for(var r=[],o=[],i=e.decorators,n=i.length-1;n>=0;n--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var l=this.fromElementDescriptor(e),s=this.toElementFinisherExtras((0,i[n])(l)||l);e=s.element,this.addElementPlacement(e,t),s.finisher&&o.push(s.finisher);var p=s.extras;if(p){for(var u=0;u<p.length;u++)this.addElementPlacement(p[u],t);r.push.apply(r,p)}}return{element:e,finishers:o,extras:r}},decorateConstructor:function(e,t){for(var r=[],o=t.length-1;o>=0;o--){var i=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[o])(i)||i);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var a=0;a<e.length-1;a++)for(var l=a+1;l<e.length;l++)if(e[a].key===e[l].key&&e[a].placement===e[l].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=ve(e.key),o=String(e.placement);if("static"!==o&&"prototype"!==o&&"own"!==o)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+o+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:o,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Oe(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=Oe(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var o=(0,t[r])(e);if(void 0!==o){if("function"!=typeof o)throw new TypeError("Finishers must return a constructor.");e=o}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function Ce(e){var t,r=ve(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var o={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(o.decorators=e.decorators),"field"===e.kind&&(o.initializer=e.value),o}function ke(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function xe(e){return e.decorators&&e.decorators.length}function Se(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Oe(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ee=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,_e=Symbol();class Ae{constructor(e,t){if(t!==_e)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return Ee&&void 0===this.t&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}toString(){return this.cssText}}const Pe=new Map,je=e=>{let t=Pe.get(e);return void 0===t&&Pe.set(e,t=new Ae(e,_e)),t},ze=Ee?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const o of e.cssRules)t+=o.cssText;return je("string"==typeof(r=t)?r:r+"");var r})(e):e;var Me,$e,Ne,Te;const De={toAttribute(e,t){switch(t){case Boolean:e=e?"":null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(o){r=null}}return r}},Ie=(e,t)=>t!==e&&(t==t||e==e),Re={attribute:!0,type:String,converter:De,reflect:!1,hasChanged:Ie};class Ye extends HTMLElement{constructor(){super(),this.Πi=new Map,this.Πo=void 0,this.Πl=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.Πh=null,this.u()}static addInitializer(e){var t;null!==(t=this.v)&&void 0!==t||(this.v=[]),this.v.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,r)=>{const o=this.Πp(r,t);void 0!==o&&(this.Πm.set(o,r),e.push(o))})),e}static createProperty(e,t=Re){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const r="symbol"==typeof e?Symbol():"__"+e,o=this.getPropertyDescriptor(e,r,t);void 0!==o&&Object.defineProperty(this.prototype,e,o)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(o){const i=this[e];this[t]=o,this.requestUpdate(e,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Re}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this.Πm=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const r of t)this.createProperty(r,e[r])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const e of r)t.unshift(ze(e))}else void 0!==e&&t.push(ze(e));return t}static"Πp"(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this.Πg=new Promise((e=>this.enableUpdating=e)),this.L=new Map,this.Π_(),this.requestUpdate(),null===(e=this.constructor.v)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,r;(null!==(t=this.ΠU)&&void 0!==t?t:this.ΠU=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(r=e.hostConnected)||void 0===r||r.call(e))}removeController(e){var t;null===(t=this.ΠU)||void 0===t||t.splice(this.ΠU.indexOf(e)>>>0,1)}"Π_"(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this.Πi.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return r=t,o=this.constructor.elementStyles,Ee?r.adoptedStyleSheets=o.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):o.forEach((e=>{const t=document.createElement("style");t.textContent=e.cssText,r.appendChild(t)})),t;var r,o}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this.ΠU)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)})),this.Πl&&(this.Πl(),this.Πo=this.Πl=void 0)}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this.ΠU)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)})),this.Πo=new Promise((e=>this.Πl=e))}attributeChangedCallback(e,t,r){this.K(e,r)}"Πj"(e,t,r=Re){var o,i;const n=this.constructor.Πp(e,r);if(void 0!==n&&!0===r.reflect){const a=(null!==(i=null===(o=r.converter)||void 0===o?void 0:o.toAttribute)&&void 0!==i?i:De.toAttribute)(t,r.type);this.Πh=e,null==a?this.removeAttribute(n):this.setAttribute(n,a),this.Πh=null}}K(e,t){var r,o,i;const n=this.constructor,a=n.Πm.get(e);if(void 0!==a&&this.Πh!==a){const e=n.getPropertyOptions(a),l=e.converter,s=null!==(i=null!==(o=null===(r=l)||void 0===r?void 0:r.fromAttribute)&&void 0!==o?o:"function"==typeof l?l:null)&&void 0!==i?i:De.fromAttribute;this.Πh=a,this[a]=s(t,e.type),this.Πh=null}}requestUpdate(e,t,r){let o=!0;void 0!==e&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||Ie)(this[e],t)?(this.L.has(e)||this.L.set(e,t),!0===r.reflect&&this.Πh!==e&&(void 0===this.Πk&&(this.Πk=new Map),this.Πk.set(e,r))):o=!1),!this.isUpdatePending&&o&&(this.Πg=this.Πq())}async"Πq"(){this.isUpdatePending=!0;try{for(await this.Πg;this.Πo;)await this.Πo}catch(t){Promise.reject(t)}const e=this.performUpdate();return null!=e&&await e,!this.isUpdatePending}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this.Πi&&(this.Πi.forEach(((e,t)=>this[t]=e)),this.Πi=void 0);let t=!1;const r=this.L;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),null===(e=this.ΠU)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(r)):this.Π$()}catch(o){throw t=!1,this.Π$(),o}t&&this.E(r)}willUpdate(e){}E(e){var t;null===(t=this.ΠU)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}"Π$"(){this.L=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.Πg}shouldUpdate(e){return!0}update(e){void 0!==this.Πk&&(this.Πk.forEach(((e,t)=>this.Πj(t,this[t],e))),this.Πk=void 0),this.Π$()}updated(e){}firstUpdated(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ze,He,Be,Le;Ye.finalized=!0,Ye.elementProperties=new Map,Ye.elementStyles=[],Ye.shadowRootOptions={mode:"open"},null===($e=(Me=globalThis).reactiveElementPlatformSupport)||void 0===$e||$e.call(Me,{ReactiveElement:Ye}),(null!==(Ne=(Te=globalThis).reactiveElementVersions)&&void 0!==Ne?Ne:Te.reactiveElementVersions=[]).push("1.0.0-rc.2");const Fe=globalThis.trustedTypes,Ue=Fe?Fe.createPolicy("lit-html",{createHTML:e=>e}):void 0,Ve=`lit$${(Math.random()+"").slice(9)}$`,Xe="?"+Ve,Je=`<${Xe}>`,We=document,qe=(e="")=>We.createComment(e),Ke=e=>null===e||"object"!=typeof e&&"function"!=typeof e,Ge=Array.isArray,Qe=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,et=/-->/g,tt=/>/g,rt=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,ot=/'/g,it=/"/g,nt=/^(?:script|style|textarea)$/i,at=(e,...t)=>({_$litType$:1,strings:e,values:t}),lt=Symbol.for("lit-noChange"),st=Symbol.for("lit-nothing"),pt=new WeakMap,ut=We.createTreeWalker(We,129,null,!1);class dt{constructor({strings:e,_$litType$:t},r){let o;this.parts=[];let i=0,n=0;const a=e.length-1,l=this.parts,[s,p]=((e,t)=>{const r=e.length-1,o=[];let i,n=2===t?"<svg>":"",a=Qe;for(let s=0;s<r;s++){const t=e[s];let r,l,p=-1,u=0;for(;u<t.length&&(a.lastIndex=u,l=a.exec(t),null!==l);)u=a.lastIndex,a===Qe?"!--"===l[1]?a=et:void 0!==l[1]?a=tt:void 0!==l[2]?(nt.test(l[2])&&(i=RegExp("</"+l[2],"g")),a=rt):void 0!==l[3]&&(a=rt):a===rt?">"===l[0]?(a=null!=i?i:Qe,p=-1):void 0===l[1]?p=-2:(p=a.lastIndex-l[2].length,r=l[1],a=void 0===l[3]?rt:'"'===l[3]?it:ot):a===it||a===ot?a=rt:a===et||a===tt?a=Qe:(a=rt,i=void 0);const d=a===rt&&e[s+1].startsWith("/>")?" ":"";n+=a===Qe?t+Je:p>=0?(o.push(r),t.slice(0,p)+"$lit$"+t.slice(p)+Ve+d):t+Ve+(-2===p?(o.push(void 0),s):d)}const l=n+(e[r]||"<?>")+(2===t?"</svg>":"");return[void 0!==Ue?Ue.createHTML(l):l,o]})(e,t);if(this.el=dt.createElement(s,r),ut.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(o=ut.nextNode())&&l.length<a;){if(1===o.nodeType){if(o.hasAttributes()){const e=[];for(const t of o.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(Ve)){const r=p[n++];if(e.push(t),void 0!==r){const e=o.getAttribute(r.toLowerCase()+"$lit$").split(Ve),t=/([.?@])?(.*)/.exec(r);l.push({type:1,index:i,name:t[2],strings:e,ctor:"."===t[1]?mt:"?"===t[1]?gt:"@"===t[1]?bt:ft})}else l.push({type:6,index:i})}for(const t of e)o.removeAttribute(t)}if(nt.test(o.tagName)){const e=o.textContent.split(Ve),t=e.length-1;if(t>0){o.textContent=Fe?Fe.emptyScript:"";for(let r=0;r<t;r++)o.append(e[r],qe()),ut.nextNode(),l.push({type:2,index:++i});o.append(e[t],qe())}}}else if(8===o.nodeType)if(o.data===Xe)l.push({type:2,index:i});else{let e=-1;for(;-1!==(e=o.data.indexOf(Ve,e+1));)l.push({type:7,index:i}),e+=Ve.length-1}i++}}static createElement(e,t){const r=We.createElement("template");return r.innerHTML=e,r}}function ct(e,t,r=e,o){var i,n,a,l;if(t===lt)return t;let s=void 0!==o?null===(i=r.Σi)||void 0===i?void 0:i[o]:r.Σo;const p=Ke(t)?void 0:t._$litDirective$;return(null==s?void 0:s.constructor)!==p&&(null===(n=null==s?void 0:s.O)||void 0===n||n.call(s,!1),void 0===p?s=void 0:(s=new p(e),s.T(e,r,o)),void 0!==o?(null!==(a=(l=r).Σi)&&void 0!==a?a:l.Σi=[])[o]=s:r.Σo=s),void 0!==s&&(t=ct(e,s.S(e,t.values),s,o)),t}class ht{constructor(e,t){this.l=[],this.N=void 0,this.D=e,this.M=t}u(e){var t;const{el:{content:r},parts:o}=this.D,i=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:We).importNode(r,!0);ut.currentNode=i;let n=ut.nextNode(),a=0,l=0,s=o[0];for(;void 0!==s;){if(a===s.index){let t;2===s.type?t=new yt(n,n.nextSibling,this,e):1===s.type?t=new s.ctor(n,s.name,s.strings,this,e):6===s.type&&(t=new vt(n,this,e)),this.l.push(t),s=o[++l]}a!==(null==s?void 0:s.index)&&(n=ut.nextNode(),a++)}return i}v(e){let t=0;for(const r of this.l)void 0!==r&&(void 0!==r.strings?(r.I(e,r,t),t+=r.strings.length-2):r.I(e[t])),t++}}class yt{constructor(e,t,r,o){this.type=2,this.N=void 0,this.A=e,this.B=t,this.M=r,this.options=o}setConnected(e){var t;null===(t=this.P)||void 0===t||t.call(this,e)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(e,t=this){var r,o;e=ct(this,e,t),Ke(e)?e===st||null==e||""===e?(this.H!==st&&this.R(),this.H=st):e!==this.H&&e!==lt&&this.m(e):void 0!==e._$litType$?this._(e):void 0!==e.nodeType?this.$(e):Ge(r=e)||"function"==typeof(null===(o=r)||void 0===o?void 0:o[Symbol.iterator])?this.g(e):this.m(e)}k(e,t=this.B){return this.A.parentNode.insertBefore(e,t)}$(e){this.H!==e&&(this.R(),this.H=this.k(e))}m(e){const t=this.A.nextSibling;null!==t&&3===t.nodeType&&(null===this.B?null===t.nextSibling:t===this.B.previousSibling)?t.data=e:this.$(We.createTextNode(e)),this.H=e}_(e){var t;const{values:r,_$litType$:o}=e,i="number"==typeof o?this.C(e):(void 0===o.el&&(o.el=dt.createElement(o.h,this.options)),o);if((null===(t=this.H)||void 0===t?void 0:t.D)===i)this.H.v(r);else{const e=new ht(i,this),t=e.u(this.options);e.v(r),this.$(t),this.H=e}}C(e){let t=pt.get(e.strings);return void 0===t&&pt.set(e.strings,t=new dt(e)),t}g(e){Ge(this.H)||(this.H=[],this.R());const t=this.H;let r,o=0;for(const i of e)o===t.length?t.push(r=new yt(this.k(qe()),this.k(qe()),this,this.options)):r=t[o],r.I(i),o++;o<t.length&&(this.R(r&&r.B.nextSibling,o),t.length=o)}R(e=this.A.nextSibling,t){var r;for(null===(r=this.P)||void 0===r||r.call(this,!1,!0,t);e&&e!==this.B;){const t=e.nextSibling;e.remove(),e=t}}}class ft{constructor(e,t,r,o,i){this.type=1,this.H=st,this.N=void 0,this.V=void 0,this.element=e,this.name=t,this.M=o,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this.H=Array(r.length-1).fill(st),this.strings=r):this.H=st}get tagName(){return this.element.tagName}I(e,t=this,r,o){const i=this.strings;let n=!1;if(void 0===i)e=ct(this,e,t,0),n=!Ke(e)||e!==this.H&&e!==lt,n&&(this.H=e);else{const o=e;let a,l;for(e=i[0],a=0;a<i.length-1;a++)l=ct(this,o[r+a],t,a),l===lt&&(l=this.H[a]),n||(n=!Ke(l)||l!==this.H[a]),l===st?e=st:e!==st&&(e+=(null!=l?l:"")+i[a+1]),this.H[a]=l}n&&!o&&this.W(e)}W(e){e===st?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class mt extends ft{constructor(){super(...arguments),this.type=3}W(e){this.element[this.name]=e===st?void 0:e}}class gt extends ft{constructor(){super(...arguments),this.type=4}W(e){e&&e!==st?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class bt extends ft{constructor(){super(...arguments),this.type=5}I(e,t=this){var r;if((e=null!==(r=ct(this,e,t,0))&&void 0!==r?r:st)===lt)return;const o=this.H,i=e===st&&o!==st||e.capture!==o.capture||e.once!==o.once||e.passive!==o.passive,n=e!==st&&(o===st||i);i&&this.element.removeEventListener(this.name,this,o),n&&this.element.addEventListener(this.name,this,e),this.H=e}handleEvent(e){var t,r;"function"==typeof this.H?this.H.call(null!==(r=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==r?r:this.element,e):this.H.handleEvent(e)}}class vt{constructor(e,t,r){this.element=e,this.type=6,this.N=void 0,this.V=void 0,this.M=t,this.options=r}I(e){ct(this,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var wt,Ct,kt,xt,St,Ot;null===(He=(Ze=globalThis).litHtmlPlatformSupport)||void 0===He||He.call(Ze,dt,yt),(null!==(Be=(Le=globalThis).litHtmlVersions)&&void 0!==Be?Be:Le.litHtmlVersions=[]).push("2.0.0-rc.3"),(null!==(wt=(Ot=globalThis).litElementVersions)&&void 0!==wt?wt:Ot.litElementVersions=[]).push("3.0.0-rc.2");class Et extends Ye{constructor(){super(...arguments),this.renderOptions={host:this},this.Φt=void 0}createRenderRoot(){var e,t;const r=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=r.firstChild),r}update(e){const t=this.render();super.update(e),this.Φt=((e,t,r)=>{var o,i;const n=null!==(o=null==r?void 0:r.renderBefore)&&void 0!==o?o:t;let a=n._$litPart$;if(void 0===a){const e=null!==(i=null==r?void 0:r.renderBefore)&&void 0!==i?i:null;n._$litPart$=a=new yt(t.insertBefore(qe(),e),e,void 0,r)}return a.I(e),a})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this.Φt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this.Φt)||void 0===e||e.setConnected(!1)}render(){return lt}}Et.finalized=!0,Et._$litElement$=!0,null===(kt=(Ct=globalThis).litElementHydrateSupport)||void 0===kt||kt.call(Ct,{LitElement:Et}),null===(St=(xt=globalThis).litElementPlatformSupport)||void 0===St||St.call(xt,{LitElement:Et});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const _t=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?s(l({},t),{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;function At(e){return(t,r)=>{return void 0!==r?(o=e,i=r,void t.constructor.createProperty(i,o)):_t(e,t);var o,i}}function Pt(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function jt(e){return e!==Object(e)}function zt(e){return!!e&&!!e.nodeType}function Mt(e){return jt(e)||zt(e)}function $t(e){try{if("string"==typeof e)return JSON.parse(e)}catch(t){console.error(t)}return e}function*Nt(e){const t=[["",e,[]]];for(;t.length;){const[e,r,o]=t.shift();if(e&&(yield[r,e,o]),!jt(r))for(const[i,n]of Object.entries(r))t.push([`${e}${e?".":""}${i}`,n,[...o,e]])}}const Tt=(e,t)=>t instanceof RegExp?!!e.match(t):function(e,t){e=e.split("."),t=t.split(".");const r=e=>"**"===e;let o=0,i=0;for(;o<e.length;){const n=t[i];if(n===e[o]||"*"===n)i++,o++;else{if(!r(n))return!1;i++,o=e.length-(t.length-i)}}return i===t.length}(e,t),Dt=(e,t)=>(r,o)=>{const i={};if(e)for(const[n,a,l]of Nt(o.data))Tt(a,e)&&(i[a]=t,l.forEach((e=>i[e]=t)));return{expanded:i}},It=e=>()=>({highlight:e}),Rt=((e,...t)=>{const r=1===e.length?e[0]:t.reduce(((t,r,o)=>t+(e=>{if(e instanceof Ae)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[o+1]),e[0]);return je(r)})`:host{--background-color:#2a2f3a;--color:#f8f8f2;--string-color:#a3eea0;--number-color:#d19a66;--boolean-color:#4ba7ef;--null-color:#df9cf3;--property-color:#6fb3d2;--font-family:monaco,Consolas,'Lucida Console',monospace;--preview-color:rgba(222,175,143,0.9);--highlight-color:#7b0000;display:block;background-color:var(--background-color);color:var(--color);padding:.5rem;font-family:var(--font-family);font-size:1rem}.preview{color:var(--preview-color)}.null{color:var(--null-color,#df9cf3)}.key{color:var(--property-color,#f9857b);display:inline-block}.collapsable:before{display:inline-block;color:var(--color);padding-right:5px;padding-left:5px;font-size:.7rem;content:'▶';transition:transform 195ms ease-in;transform:rotate(90deg);color:var(--property-color)}.collapsable.collapsableCollapsed:before{transform:rotate(0)}.collapsable{cursor:pointer;user-select:none}.string{color:var(--string-color)}.number{color:var(--number-color)}.boolean{color:var(--boolean-color)}ul{padding:0;clear:both}ul,li{list-style:none;position:relative}li ul>li{position:relative;margin-left:1.5rem;padding-left:0}ul ul:before{content:'';border-left:1px solid #333;position:absolute;left:.5rem;top:.5rem;bottom:.5rem}ul ul:hover:before{border-left:1px solid #666}mark{background-color:var(--highlight-color)}`;let Yt,Zt,Ht,Bt,Lt,Ft,Ut,Vt=e=>e;var Xt,Jt,Wt,qt,Kt,Gt;Xt=[e=>{return"function"==typeof e?(t=e,window.customElements.define("json-viewer",t),t):((e,t)=>{const{kind:r,elements:o}=t;return{kind:r,elements:o,finisher(e){window.customElements.define("json-viewer",e)}}})(0,e);var t}],Jt=Et,Wt=we(),qt=function(e,t){class r extends t{constructor(...t){super(...t),e(this)}}return{F:r,d:[{kind:"field",decorators:[At({converter:$t,type:Object})],key:"data",value:()=>null},{kind:"field",decorators:[At({state:!0})],key:"state",value:()=>({expanded:{},filtered:{},highlight:null})},{kind:"get",static:!0,key:"styles",value:function(){return[Rt]}},{kind:"get",static:!0,key:"is",value:function(){return"json-viewer"}},{kind:"method",key:"setState",value:async function(e,t){this.state=l(l({},this.state),"function"==typeof e?e(this.state,this):e),this.updateComplete.then(t)}},{kind:"method",key:"connectedCallback",value:function(){this.hasAttribute("data")||this.setAttribute("data",this.innerText),ge(me(r.prototype),"connectedCallback",this).call(this)}},{kind:"field",key:"handlePropertyClick",value(){return e=>t=>{var r,o;t.preventDefault(),this.setState((r=e,e=>({expanded:s(l({},e.expanded),{[r]:void 0===o?!e.expanded[r]:!!o})})))}}},{kind:"method",key:"expand",value:function(e,t){this.setState(Dt(e,!0),t)}},{kind:"method",key:"expandAll",value:function(){this.setState(Dt("**",!0))}},{kind:"method",key:"collapseAll",value:function(){this.setState(Dt("**",!1))}},{kind:"method",key:"collapse",value:function(e){this.setState(Dt(e,!1))}},{kind:"method",key:"search",value:function*(e){for(const[t,r,o]of Nt(this.data))Mt(t)&&String(t).includes(e)&&(this.expand(r,(()=>{const e=this.renderRoot.querySelector(`[data-path="${r}"]`);e.scrollIntoView({behavior:"smooth",inline:"center",block:"center"}),e.focus()})),this.setState(It(r)),yield{value:t,path:r});this.setState(It(null))}},{kind:"method",key:"filter",value:function(e){var t;this.setState((t=e,(e,r)=>{const o={};if(t)for(const[i,n,a]of Nt(r.data))Tt(n,t)?(o[n]=!1,a.forEach((e=>o[e]=!1))):o[n]=!0;return{filtered:o}}))}},{kind:"method",key:"resetFilter",value:function(){this.setState({filtered:{}})}},{kind:"method",key:"renderObject",value:function(e,t){return at(Yt||(Yt=Vt`<ul>${0}</ul>`),Object.keys(e).map((r=>{const o=e[r],i=t?`${t}.${r}`:r,n=Mt(o),a=this.state.expanded[i]||n;return at(Zt||(Zt=Vt`<li data-path="${0}" .hidden="${0}">${0} ${0}</li>`),i,this.state.filtered[i],this.renderPropertyKey({isCollapsable:!n,collapsed:!this.state.expanded[i],key:r,onClick:this.handlePropertyClick(i)}),a?this.renderNode(o,i):this.renderNodePreview(o))})))}},{kind:"method",key:"renderNode",value:function(e,t=""){return Mt(e)?this.renderValue(e,t):this.renderObject(e,t)}},{kind:"method",key:"renderNodePreview",value:function(e){return at(Ht||(Ht=Vt`<span class="preview">${0}</span>`),function(e,t){const{nodeCount:r,maxLength:o}=l({nodeCount:3,maxLength:15},t),i=Array.isArray(e),n=Object.keys(e),a=n.slice(0,r),s=[i?"[ ":"{ "],p=[];for(const l of a){const t=[],r=e[l],n=Pt(r);i||t.push(l+": "),"object"===n?t.push("{ ... }"):"array"===n?t.push("[ ... ]"):"string"===n?t.push(`"${r.substring(0,o)}${r.length>o?"...":""}"`):t.push(String(r)),p.push(t.join(""))}return n.length>r&&p.push("..."),s.push(p.join(", ")),s.push(i?" ]":" }"),s.join("")}(e))}},{kind:"method",key:"renderPropertyKey",value:function({isCollapsable:e,collapsed:t,onClick:r,key:o}){return at(Bt||(Bt=Vt`<span class="${0}" @click="${0}">${0}:</span>`),function(...e){return e.filter(Boolean).join(" ")}(o&&"key",e&&"collapsable",t&&"collapsableCollapsed"),e?r:null,o)}},{kind:"method",key:"renderValue",value:function(e,t){const r=this.state.highlight,o=zt(e)?e:at(Lt||(Lt=Vt`<span tabindex="0" class="${0}">${0}</span>`),Pt(e),JSON.stringify(e));return null!==r&&t===r?at(Ft||(Ft=Vt`<mark>${0}</mark>`),o):o}},{kind:"method",key:"render",value:function(){return at(Ut||(Ut=Vt`${0}`),this.renderNode(this.data))}}]}}((function(e){Wt.initializeInstanceElements(e,Kt.elements)}),Jt),Kt=Wt.decorateClass(function(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},o=0;o<e.length;o++){var i,n=e[o];if("method"===n.kind&&(i=t.find(r)))if(Se(n.descriptor)||Se(i.descriptor)){if(xe(n)||xe(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(xe(n)){if(xe(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}ke(n,i)}else t.push(n)}return t}(qt.d.map(Ce)),Xt),Wt.initializeClassElements(qt.F,Kt.elements),Wt.runClassFinishers(qt.F,Kt.finishers);class Qt extends(p()){constructor(){super()}}a(Qt,"symbol"!=typeof(Gt="STORAGE_KEY")?Gt+"":Gt,"form-layout_");const er={name:"FormsLayoutSelect",components:{},props:{comName:String},setup(e,t){var r;let o=null!=(r=e.comName)?r:"form_layout_"+ZY.rid(),i=Qt,n=L({suggest:[],column:[{prop:"label",width:"150px"},{prop:"value",label:"VALUE",render(e,t){let r=e(F("v-json-viewer"),{value:t.scope.row.value,expanded:!0,copyable:!0});return e("div",{style:{overflow:"auto",maxHeight:"350px"}},[r])}}]});async function a(){await i.init(),await ZY.sleep(30),n.suggest=i.getOptions()}let l={uuid:o,state:n,exportFile:async function(){await i.saveCache2File(i.getOptions())},loadFile:async function(){await i.loadFile(),await a()},onSelect:function(e){let r=ZY.JSON5.parse(ZY.JSON5.stringify(e.value));t.emit("select-form",r)},load:a};return u(l,[async function(e){}]),l}},tr=q("加载"),rr=q("保存到本地");er.render=function(e,t,r,o,i,n){const a=F("el-button"),l=F("el-space"),s=F("simple-list");return U(),V(W,null,[X(l,{style:{"margin-bottom":"var(--z-size-20)"}},{default:J((()=>[X(a,{type:"primary",onClick:e.loadFile},{default:J((()=>[tr])),_:1},8,["onClick"]),X(a,{type:"primary",onClick:e.exportFile},{default:J((()=>[rr])),_:1},8,["onClick"])])),_:1}),X(s,{suggest:e.state.suggest,column:e.state.column,onSelect:e.onSelect},null,8,["suggest","column","onSelect"])],64)};const or={name:"EwMathJax",props:{latex:{type:String,default:""},block:{type:Boolean,default:!1}},watch:{latex(){this.renderMathJax()}},mounted(){this.renderMathJax()},methods:{renderMathJax(){this.$el.innerText=this.block?`$$ ${this.latex} $$`:`$ ${this.latex} $`,function(e){if(window.MathJax.version)return e&&!Array.isArray(e)&&(e=[e]),new Promise(((t,r)=>{window.MathJax.typesetPromise(e).then((()=>{t(void 0)})).catch((e=>r(e)))}))}(this.$el).then((()=>{window.textHaha=this}))},toImgBase64(){return window.MathJaxLatexToImg(this.latex)},async toImgEle(){let e=document.createElement("img");return e.src=await textHaha.toImgBase64(),e}}};function ir(e=[]){return{widget:"CusSuggest",widgetConfig:{mode:"select",suggest:e}}}function nr(e="",t){return e?e+ZY.lodash.upperFirst("v"):t}function ar(e=""){return{[nr("cap")]:f([["butt","butt"],["round","round"],["square","square"]]),[nr("join")]:f([["bevel","bevel"],["round","round"],["miter","miter"]]),[nr("miterLimit")]:c()}}function lr(){return{textBorderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},textBorderWidth:{type:"number",rules:{type:"any"}},textBorderType:{type:"string",ui:l({},ir([{label:"solid",value:"solid"},{label:"dashed",value:"dashed"},{label:"dotted",value:"dotted"}]))}}}function sr(){return{width:c(),height:c()}}function pr(){return{color:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},fontStyle:{type:"string",ui:l({},ir([{label:"normal",value:"normal"},{label:"italic",value:"italic"},{label:"oblique",value:"oblique"}]))},fontWeight:{type:"string",ui:l({},ir([{label:"normal",value:"normal"},{label:"bold",value:"bold"},{label:"bolder",value:"bolder"},{label:"lighter",value:"lighter"}]))},fontFamily:{type:"string"},fontSize:{type:"number",rules:{type:"any"}}}}function ur(){return s(l(l(l(s(l({},pr()),{lineHeight:c()}),sr()),lr()),{textShadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},textShadowBlur:{type:"number",rules:{type:"any"}},textShadowOffsetX:{type:"number",rules:{type:"any"}},textShadowOffsetY:{type:"number",rules:{type:"any"}}}),{overflow:f([{label:"截断",value:"truncate"},{label:"换行",value:"break"},{label:"breakAll",value:"breakAll"}]),lineOverflow:{type:"string"}})}function dr(){return{align:f([["left","left"],["center","center"],["right","right"]]),verticalAlign:f([["top","top"],["middle","middle"],["bottom","bottom"]])}}function cr(){return{symbol:d(),symbolSize:c(),symbolRotate:c(),symbolKeepAspect:h(),symbolOffset:y()}}function hr(){return{animation:h(),animationThreshold:c(),animationDuration:c(),animationEasing:{type:"string"},animationDelay:c(),animationDurationUpdate:c(),animationEasingUpdate:{type:"string"},animationDelayUpdate:c()}}function yr(){return s(l(l(l({color:m()},{borderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},borderWidth:{type:"number",rules:{type:"any"}},borderRadius:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),ar("border")),{opacity:g()})}function fr(){return s(l(l({color:m(),width:c(),type:f([["solid","solid"],["dashed","dashed"],["dotted","dotted"]])},ar()),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),{opacity:g()})}function mr(){return s(l({show:h(),position:y(),distance:c(),rotate:c(),offset:y("number")},ur()),{padding:y("number")})}function gr(){return s(l({show:h(),position:y(),distance:c(),rotate:c(),offset:y("number")},ur()),{padding:y("number")})}or.render=function(e,t,r,o,i,n){return U(),V("span")};const br={name:"ExportDialog",data:()=>({showDialog:!1,form:{}}),methods:{toggleDialog(){this.showDialog=!0},exportFile(){this.$emit("exported",this.form)}}},vr=q("导出"),wr=q("确定");br.render=function(e,t,r,o,i,n){const a=F("el-button"),l=F("el-input"),s=F("el-form-item"),p=F("el-form"),u=F("el-dialog");return U(),V("div",null,[X(a,{onClick:n.toggleDialog},{default:J((()=>[vr])),_:1},8,["onClick"]),X(u,{title:"导出选项",modelValue:i.showDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.showDialog=e),width:"450px"},{default:J((()=>[X(p,{modelValue:i.form,"onUpdate:modelValue":t[1]||(t[1]=e=>i.form=e)},{default:J((()=>[X(s,{label:"文件名",prop:"fileName"},{default:J((()=>[X(l,{modelValue:i.form.fileName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.fileName=e)},null,8,["modelValue"])])),_:1}),X(s,null,{default:J((()=>[X(a,{type:"button",onClick:n.exportFile},{default:J((()=>[wr])),_:1},8,["onClick"])])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])};const Cr={name:"ZJumpScrollHolder",props:{id:String,binds:null},setup(e){let t={cid:ZY.rid(),s_path:ZY.getObjPathFromPathArr(e.binds.pathArr)},r=G("ZJumpScrollContext");return Q((()=>{r&&r.register(e.id,t)})),ee((()=>{r&&r.unRegister(e.id)})),t}},kr=["id"];Cr.render=function(e,t,r,o,i,n){return U(),V("div",{id:r.id,class:"z-jump-scroll-holder"},null,8,kr)};const xr={name:"ZEchartsEasy",components:{ZJumpScrollHolder:Cr,ExportDialog:br,ZHttpCom:z,HttpComponent:b},setup(){let e,t,r,o,i=ZY.JSON5,n=L({inited:!1,cachedValue:{},reload:!1,config:null}),a=!0,p="echart_"+ZY.rid(6);function u(e){n.reload=!1;n.cachedValue=Object.assign({xAxis:{},yAxis:{},series:[],tooltip:{}},e),setTimeout((()=>{n.reload=!0}),100)}async function b(e){await ZY_EXT.store.setItem("test-echart",e)}return Q((async()=>{n.inited=!0,u(await ZY_EXT.store.getItem("test-echart"))})),{resolveConfig:async function(){let e={series:{type:"array",con_tag:"z-jump-scroll",ui:{label:"系列",conAttrs:[]},wrap:"xy-tab-content",wrapAttrs:[["label","series"]],items:{type:"object",properties:l(s(l({name:{type:"string"},type:K(f([{label:"折线图",value:"line"},{label:"柱状图",value:"bar"},{label:"饼状图",value:"pie"}]),{noticeIframe:"https://echarts.apache.org/zh/option.html#xAxis.type",ui:{label:"坐标轴类型"}}),colorBy:f([["series","series"],["data","data"]]),xAxisIndex:c(),yAxisIndex:c(),polarIndex:c()},cr()),{showSymbol:h(),legendHoverLink:h(),stack:{type:"string"},radius:{type:"string"},cursor:{type:"string"},step:h(),label:{type:"object",properties:l({},gr())},endLabel:{type:"object",properties:l({},mr())},labelLine:{type:"object",properties:{show:h(),showAbove:h(),length2:c(),smooth:h(),minTurnAngle:c(),lineStyle:{type:"object",properties:l({},fr())}}},labelLayout:{type:"object",properties:s(l(l({moveOverlap:{type:"string"},x:{type:"string"},y:{type:"string"},dx:c(),dy:c(),rotate:c()},sr()),dr()),{fontSize:c(),draggable:h()})},data:{type:"array",ui:{label:"数据",attrs:[[":height","300"]],class:["a-space-mb-10"],conAttrs:[{prefixValue:'"数据" + (handleAttrVal(',handler:["c",'return [":name", c.indexKey ]'],suffixValue:") + 1)"}],conClass:[]},items:{type:"object",properties:{value:{type:"string",ui:{form_item:{"label-width":"90px"}}},name:{type:"string",ui:{form_item:{"label-width":"90px"}}}}}},itemStyle:{type:"object",properties:l({},yr())},lineStyle:{type:"object",properties:s(l(l({color:m(),width:c(),type:f([{label:"solid",value:"solid"},{label:"dashed",value:"dashed"},{label:"dotted",value:"dotted"}])},ar()),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),{opacity:g()})},areaStyle:{type:"object",properties:s(l({color:m()},{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),{opacity:g(),origin:f([{label:"auto",value:"auto"},{label:"start",value:"start"},{label:"end",value:"end"}])})},emphasis:{type:"object",properties:{scale:h(),focus:f([["none","none"],["self","self"],["series","series"]]),blurScope:f([["coordinateSystem","coordinateSystem"],["series","series"],["global","global"]]),label:{type:"object",properties:l(l(l(l({show:h(),position:y(),distance:c(),rotate:c(),offset:y("number")},ur()),dr()),{borderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},borderWidth:{type:"number",rules:{type:"any"}},borderRadius:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}})},itemStyle:{type:"object",properties:l({},yr())},lineStyle:{type:"object",properties:l({},fr())},areaStyle:{type:"object",properties:s(l({color:m()},{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),{opacity:g()})},endLabel:{type:"object",properties:l({},mr())}}},smoothMonotone:f([["x"],["y"]]),sampling:f([["lttb"],["average"],["max"],["min"],["sum"]]),seriesLayoutBy:f([["column"],["row"]]),datasetIndex:c(),dataGroupId:{type:"string"},markPoint:{type:"object",properties:l(s(l({},cr()),{slient:h(),label:{type:"object",properties:l({},gr())},itemStyle:{type:"object",properties:l({},yr())},emphasis:{type:"object",properties:{label:{type:"object",properties:l({},gr())},itemStyle:{type:"object",properties:l({},yr())}}}}),hr())},zlevel:c(),slient:h()}),hr())}},xAxis:{type:"object",tag:"z-jump-scroll",ui:{label:"X轴"},wrap:"xy-tab-content",wrapAttrs:[["label","xAxis"]],properties:{type:K(f([{label:"value",value:"value"},{label:"category",value:"category"},{label:"time",value:"time"},{label:"log",value:"log"}]),{noticeIframe:"https://echarts.apache.org/zh/option.html#xAxis.type",ui:{label:"坐标轴类型"}}),name:{type:"string",ui:{label:"坐标轴名称"}},show:{type:"boolean",rules:{type:"any"}},position:{type:"string",ui:l({},ir([{label:"top",value:"top"},{label:"bottom",value:"bottom"}]))},offset:c(),realtimeSort:h(),sortSeriesIndex:c(),nameLocation:f([["start","start"],["middle","middle"],["end","end"]]),nameTextStyle:{type:"object",properties:s(l(l(l(l(s(l(s(l(l({},pr()),dr()),{lineHeight:c(),backgroundColor:m()}),{borderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},borderWidth:{type:"number",rules:{type:"any"}},borderRadius:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{padding:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),sr()),lr()),{textShadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},textShadowBlur:{type:"number",rules:{type:"any"}},textShadowOffsetX:{type:"number",rules:{type:"any"}},textShadowOffsetY:{type:"number",rules:{type:"any"}}}),{overflow:f([{label:"截断",value:"truncate"},{label:"换行",value:"break"},{label:"breakAll",value:"breakAll"}])})},nameGap:c(),nameRotate:c(),inverse:h(),min:d(),max:d(),scale:h(),splitNumber:c(),minInterval:c(),maxInterval:c(),interval:c(),logBase:c(),silent:h(),axisLabel:{type:"object",properties:l(l(l(l(l(s(l(l({show:h(),inside:h(),rotate:c(),margin:c(),formatter:d(),showMinLabel:h(),showMaxLabel:h(),hideOverlap:h()},pr()),dr()),{lineHeight:c(),backgroundColor:m()}),{borderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},borderWidth:{type:"number",rules:{type:"any"}},borderRadius:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),sr()),lr()),{textShadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},textShadowBlur:{type:"number",rules:{type:"any"}},textShadowOffsetX:{type:"number",rules:{type:"any"}},textShadowOffsetY:{type:"number",rules:{type:"any"}}})},zlevel:c(),boundaryGap:h(),data:{type:"array",ui:{label:"数据",attrs:[[":height","300"]],class:["a-space-mb-10"],conAttrs:[{prefixValue:'"数据" + (handleAttrVal(',handler:["c",'return [":name", c.indexKey ]'],suffixValue:") + 1)"}],conClass:[]},items:{type:"object",properties:{value:{type:"string",ui:{form_item:{"label-width":"90px"}}},name:{type:"string",ui:{form_item:{"label-width":"90px"}}}}}}}},yAxis:{type:"object",tag:"z-jump-scroll",wrap:"xy-tab-content",wrapAttrs:[["label","yAxis"]],properties:{name:{type:"string",ui:{label:"坐标轴名称"}},type:K(f([{label:"value",value:"value"},{label:"category",value:"category"},{label:"time",value:"time"},{label:"log",value:"log"}]),{noticeIframe:"https://echarts.apache.org/zh/option.html#yAxis.type",ui:{label:"坐标轴类型"}}),show:h(),position:f([{label:"left",value:"left"},{label:"right",value:"right"}]),offset:c(),realtimeSort:h(),sortSeriesIndex:c(),nameLocation:f([["start","start"],["middle","middle"],["end","end"]]),nameTextStyle:{type:"object",properties:s(l(l(l(l(s(l(s(l(l({},pr()),dr()),{lineHeight:c(),backgroundColor:m()}),{borderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},borderWidth:{type:"number",rules:{type:"any"}},borderRadius:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{padding:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),sr()),lr()),{textShadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},textShadowBlur:{type:"number",rules:{type:"any"}},textShadowOffsetX:{type:"number",rules:{type:"any"}},textShadowOffsetY:{type:"number",rules:{type:"any"}}}),{overflow:f([{label:"截断",value:"truncate"},{label:"换行",value:"break"},{label:"breakAll",value:"breakAll"}])})},nameGap:c(),nameRotate:c(),inverse:h(),boundaryGap:h(),min:d(),max:d(),scale:h(),splitNumber:c(),minInterval:c(),maxInterval:c(),interval:c(),logBase:c(),silent:h(),axisLabel:{type:"object",properties:l(l(l(l(l(s(l(l({show:h(),inside:h(),rotate:c(),margin:c(),formatter:d(),showMinLabel:h(),showMaxLabel:h(),hideOverlap:h()},pr()),dr()),{lineHeight:c(),backgroundColor:m()}),{borderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},borderWidth:{type:"number",rules:{type:"any"}},borderRadius:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),sr()),lr()),{textShadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},textShadowBlur:{type:"number",rules:{type:"any"}},textShadowOffsetX:{type:"number",rules:{type:"any"}},textShadowOffsetY:{type:"number",rules:{type:"any"}}})},zlevel:c(),data:{type:"array",ui:{label:"数据",attrs:[[":height","300"]],class:["a-space-mb-10"],conAttrs:[{prefixValue:'"数据" + (handleAttrVal(',handler:["c",'return [":name", c.indexKey ]'],suffixValue:") + 1)"}],conClass:[]},items:{type:"object",properties:{value:{type:"string",ui:{form_item:{"label-width":"90px"}}},name:{type:"string",ui:{form_item:{"label-width":"90px"}}}}}}}},tooltip:{type:"object",ui:{label:"tooltip"},wrap:"xy-tab-content",wrapAttrs:[["label","tooltip"]],properties:s(l({show:h(),trigger:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#tooltip.trigger"},showContent:h(),alwaysShowContent:h(),showDelay:c(),hideDelay:c(),enterable:h(),confine:h(),appendToBody:h(),className:{type:"string"},transitionDuration:c(),position:y(),backgroundColor:m()},{borderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},borderWidth:{type:"number",rules:{type:"any"}},borderRadius:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{padding:y(),textStyle:{type:"object",properties:l({},ur())},extraCssText:d(),order:f([["seriesAsc","seriesAsc"],["seriesDesc","seriesDesc"],["valueAsc","valueAsc"],["valueDesc","valueDesc"]])})},title:{type:"object",ui:{label:"title"},wrap:"xy-tab-content",wrapAttrs:[["label","title"]],properties:s(l(l({text:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#title.text"},link:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#title.link"},left:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#title.left"},top:{type:"string"},right:{type:"string"},bottom:{type:"string"},backgroundColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{showAlpha:!0}}},textAlign:{type:"string",ui:l({},ir([{label:"auto",value:"auto"},{label:"left",value:"left"},{label:"right",value:"right"},{label:"center",value:"center"}]))},textVerticalAlign:{type:"string",ui:l({},ir([{label:"auto",value:"auto"},{label:"top",value:"top"},{label:"bottom",value:"bottom"},{label:"middle",value:"middle"}]))},padding:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}},itemGap:{type:"number",rules:{type:"any"}},zlevel:{type:"number",rules:{type:"any"}}},{borderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},borderWidth:{type:"number",rules:{type:"any"}},borderRadius:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),{textStyle:{type:"object",properties:s(l(l(s(l({width:{type:"number",rules:{type:"any"}},height:{type:"number",rules:{type:"any"}}},pr()),{lineHeight:{type:"number",ui:{widget:"CusInputNumber",widgetConfig:{precision:2}},rules:{type:"any"}}}),lr()),{textShadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},textShadowBlur:{type:"number",rules:{type:"any"}},textShadowOffsetX:{type:"number",rules:{type:"any"}},textShadowOffsetY:{type:"number",rules:{type:"any"}}}),{overflow:{type:"string",ui:l({},ir([{label:"截断",value:"truncate"},{label:"换行",value:"break"},{label:"breakAll",value:"breakAll"}]))}})},subtext:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#title"},sublink:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#title"},subtextStyle:{type:"object",properties:l(l(s(l({},pr()),{align:{type:"string",ui:l({},ir([{label:"left",value:"left"},{label:"center",value:"center"},{label:"right",value:"right"}]))},verticalAlign:{type:"string",ui:l({},ir([{label:"top",value:"top"},{label:"middle",value:"middle"},{label:"bottom",value:"bottom"}]))},lineHeight:{type:"number",ui:{widget:"CusInputNumber",widgetConfig:{precision:2}},rules:{type:"any"}},width:{type:"number",rules:{type:"any"}},height:{type:"number",rules:{type:"any"}}}),lr()),{textShadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},textShadowBlur:{type:"number",rules:{type:"any"}},textShadowOffsetX:{type:"number",rules:{type:"any"}},textShadowOffsetY:{type:"number",rules:{type:"any"}}})}})},legend:{type:"object",ui:{label:"legend"},wrap:"xy-tab-content",wrapAttrs:[["label","legend"]],properties:{orient:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#legend.orient",ui:l({},ir([{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]))},left:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#legend.left"},top:{type:"string"},right:{type:"string"},bottom:{type:"string"},show:{type:"boolean",rules:{type:"any"}},zlevel:{type:"number",rules:{type:"any"}},align:{type:"string",ui:l({},ir([{label:"left",value:"left"},{label:"auto",value:"auto"},{label:"right",value:"right"}]))},padding:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}},itemGap:{type:"number",rules:{type:"any"}},itemWidth:{type:"number",rules:{type:"any"}},itemHeight:{type:"number",rules:{type:"any"}},itemStyle:{type:"object",properties:l({},yr())}},lineStyle:{type:"object",properties:s(l({color:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},width:{type:"number",rules:{type:"any"}},type:{type:"string",ui:l({},ir([{label:"solid",value:"solid"},{label:"dashed",value:"dashed"},{label:"dotted",value:"dotted"}]))}},{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),{opacity:{type:"number",ui:{widget:"CusInputNumber",widgetConfig:{precision:2}},rules:{type:"any"}}})},textStyle:{type:"object",properties:s(l(l(l(s(l(s(l({color:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}}},pr()),{lineHeight:{type:"number",ui:{widget:"CusInputNumber",widgetConfig:{precision:2}},rules:{type:"any"}}}),{borderColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},borderWidth:{type:"number",rules:{type:"any"}},borderRadius:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{padding:{type:"string",ui:{widget:"CusOneOrMany",widgetConfig:{type:"number"}},rules:{type:"any"}}}),{shadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},shadowBlur:{type:"number",rules:{type:"any"}},shadowOffsetX:{type:"number",rules:{type:"any"}},shadowOffsetY:{type:"number",rules:{type:"any"}}}),lr()),{textShadowColor:{type:"string",ui:{widget:"CusColorPicker",widgetConfig:{}}},textShadowBlur:{type:"number",rules:{type:"any"}},textShadowOffsetX:{type:"number",rules:{type:"any"}},textShadowOffsetY:{type:"number",rules:{type:"any"}}}),{overflow:{type:"string",ui:l({},ir([{label:"截断",value:"truncate"},{label:"换行",value:"break"},{label:"breakAll",value:"breakAll"}]))}})}},grid:{type:"object",ui:{label:"grid"},wrap:"xy-tab-content",wrapAttrs:[["label","grid"]],properties:{left:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#grid"},right:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#grid"},bottom:{type:"string",noticeIframe:"https://echarts.apache.org/zh/option.html#grid"},containLabel:{type:"boolean",noticeIframe:"https://echarts.apache.org/zh/option.html#grid",rules:{type:"any"}}}},toolbox:{type:"object",ui:{label:"toolbox"},wrap:"xy-tab-content",wrapAttrs:[["label","toolbox"]],properties:{feature:{type:"object",properties:{saveAsImage:{type:"object",properties:{name:{type:"string"}}}}}}},polar:{type:"object",wrap:"xy-tab-content",wrapAttrs:[["label","polar"]],properties:{zlevel:c(),center:y(),radius:y()}},config:{type:"string",ui:{widgetConfig:{type:"textarea",rows:3}}}};return{default:M({type:"object",ui:{attrs:[["label-width","150px"]]},tag:"xy-tab",properties:e},{})}},state:n,runPart:async function(){let a=i.parse(i.stringify(o));Reflect.deleteProperty(a,"config"),b(o);try{let i=ZY.JSON5.parse(o.config),l=ZY.lodash.merge({},i,a);n.config=l,function(o={}){t||(e=document.getElementById(p),t=echarts.init(e)),r=o,t&&t.clear(),ae((()=>{setTimeout((()=>{t.setOption(r)}),500)}))}(l)}catch(l){console.log(l)}},iniObj:function({scope:e,page:t}={}){t.callEvent(v.OBJ_INIT_COMMON,e)},needObjAction:function({scope:e}={}){return!0},chartId:p,loadFile:async function(){let e=await ZY_EXT.fileOpenJSON5();e.data&&(b(e.data),u(e.data))},exportFile:function(e){ZY_EXT.saveDesignFile(l({fileName:"test_echarts",data:o,prefix:"echarts_"},e))},desObj:function({scope:e,page:t}={}){t.callEvent(v.OBJ_DESTORY_COMMON,e)},pathArrToID:function(e){return"ZECHART__"+e.join("__")},onModelChange:async function(e){a&&(a=!1,o=te(e.model))}}}},Sr={key:0,class:"z-echarts-easy"},Or=q("执行"),Er=q("加载"),_r=q(" "),Ar=["id"];xr.render=function(e,t,r,o,i,n){const a=F("el-button"),l=F("export-dialog"),s=F("v-json-viewer"),p=F("el-space"),u=F("z-jump-scroll-holder"),d=F("z-http-com"),c=F("el-col"),h=F("el-row");return o.state.inited?(U(),V("div",Sr,[X(a,{onClick:o.runPart},{default:J((()=>[Or])),_:1},8,["onClick"]),X(l,{style:{display:"inline-block"},onExported:o.exportFile},null,8,["onExported"]),X(a,{onClick:o.loadFile},{default:J((()=>[Er])),_:1},8,["onClick"]),X(h,null,{default:J((()=>[o.state.reload?(U(),re(c,{key:0,span:10},{default:J((()=>[X(s,{value:o.state.config},null,8,["value"]),X(d,{value:o.state.cachedValue,debug:!0,"resolve-config":o.resolveConfig,"onHttp:model:change":o.onModelChange},{"z_http_com-object_beforebegin":J((e=>[o.needObjAction(e)?(U(),re(p,{key:0},{default:J((()=>[X(a,{size:"small",onClick:t=>o.iniObj(e)},{default:J((()=>[q("初始化"+oe(e.scope.label),1)])),_:2},1032,["onClick"]),X(a,{size:"small",onClick:t=>o.desObj(e)},{default:J((()=>[q("销毁"+oe(e.scope.label),1)])),_:2},1032,["onClick"])])),_:2},1024)):ie("",!0)])),prop_label_beforeend:J((e=>[])),prop_afterbegin:J((e=>[X(u,{style:{height:"1px"},binds:e.scope,id:o.pathArrToID(e.scope.pathArr)},{default:J((()=>[_r])),_:2},1032,["binds","id"])])),_:1},8,["value","resolve-config","onHttp:model:change"])])),_:1})):ie("",!0),X(c,{span:14},{default:J((()=>[ne("div",{style:{width:"600px",height:"400px"},id:o.chartId},null,8,Ar)])),_:1})])),_:1})])):ie("",!0)};const Pr={name:"ZQuickDialog",props:{title:{type:String,default:"打开"},modelAttr:{type:Object,default:()=>({})},buttonAttr:{type:Object,default:()=>({})}},data:()=>({opened:!1}),mounted(){let e=this.$el.getBoundingClientRect();console.log(e)},methods:{openModal(){this.opened=!this.opened},hide(){this.opened=!1},getStyle(){return this.opened?{height:"auto"}:{}},fireEvent(e){this.$emit(e,this)}}},jr={class:"z-quick-dialog"},zr={key:0,class:"z-quick-dialog__content"};Pr.render=function(e,t,r,o,i,n){const a=F("el-button"),l=F("el-dialog");return U(),V("section",jr,[X(a,se(r.buttonAttr,{onClick:n.openModal}),{default:J((()=>[le(e.$slots,"button-content")])),_:3},16,["onClick"]),X(l,se({class:"z-quick-dialog__dialog"},r.modelAttr,{modelValue:i.opened,"onUpdate:modelValue":t[0]||(t[0]=e=>i.opened=e),placement:"top","popper-class":"z-quick-dialog__popover",onOpened:t[1]||(t[1]=e=>n.fireEvent("opened")),title:r.title}),{default:J((()=>[i.opened?(U(),V("div",zr,[le(e.$slots,"default")])):ie("",!0)])),_:3},16,["modelValue","title"])])};const Mr={name:"EmProps",setup(){let e=L({map:new Map,current:null});return pe("EmProps",{register(t,r){e.map.set(t,r)},notityClose(t){e.current.active=!1}}),{state:e,toggleShow:function(t,r){t.render=function(){return ue("div",{},"sdsdsd")},e.current&&(e.current.active=!1),e.current=t,t.active=!0}}}},$r={class:"em-props"};Mr.render=function(e,t,r,o,i,n){const a=F("el-button"),l=F("el-row");return U(),V("div",$r,[X(l,{style:{"align-items":"center"}},{default:J((()=>[(U(!0),V(W,null,de(o.state.map,(([e,t])=>(U(),V("div",null,[t.binds&&t.binds.label?(U(),re(a,{key:0,size:"small",class:"a-space-mr-10",onClick:r=>o.toggleShow(t,e)},{default:J((()=>[q(oe(t.binds.label),1)])),_:2},1032,["onClick"])):ie("",!0)])))),256))])),_:1}),ne("div",null,[le(e.$slots,"default")])])};const Nr={name:"EmPropsItem",components:{Close:ce},props:{binds:{type:Object,default:()=>({})}},inject:["EmProps"],data(){var e,t;return{active:!1,render:null,config:null!=(t=null==(e=this.binds)?void 0:e.config)?t:{},uuid:"em-props-item__"+ZY.rid(10)}},computed:{getCls(){var e;if(null==(e=this.config)?void 0:e.EmHidden)return{"em-props-item--active":this.active,"em-props-item--hidden":1}}},methods:{notityClose(){this.EmProps.notityClose(this.uuid)}},mounted(){this.EmProps.register(this.uuid,this)}},Tr=ne("div",null," ",-1);Nr.render=function(e,t,r,o,i,n){const a=F("close"),l=F("el-icon"),s=F("el-button"),p=F("el-row");return U(),V("div",{class:he(["em-props-item",n.getCls])},[X(p,{class:"em-props-item__action",align:"middle",justify:"space-between"},{default:J((()=>[Tr,X(s,{size:"small",onClick:n.notityClose},{default:J((()=>[X(l,null,{default:J((()=>[X(a)])),_:1})])),_:1},8,["onClick"])])),_:1}),le(e.$slots,"default")],2)};w((()=>import("./bundle.esm.3ebc55e5.js")),["assets/bundle.esm.3ebc55e5.js","assets/bundle.esm.ab6c6d38.css","assets/vendor.70e2a6e0.js"]).then((e=>{let t=e.JsonViewer;CustomVueComponent.app.component("v-json-viewer",t)})),I();const Dr=ye({mixins:[C],data:()=>({}),components:{ZAddress:k,ZQuickDialog:Pr,ZEchartsEasy:xr,ZOptionsManager:$,ZDragXml:N,ZCascader:x,ZEasyModal:T,EwMathJax:or,FormsLayoutSelect:er,ZLayoutEditor:D,FormManager:R,FormsManaSelect:Y,CustomElement:Z},setup(e,t){var r;CustomVueComponent.register(Mr),CustomVueComponent.register(Nr);let o,i=null,{currentRoute:n,router:a}=fe(),l=n.query.path;o=null!=(r=n.query.storeName)?r:S;let s=O({properties:{textarea_step:{type:String},domes:{type:Array}},computed:{}},{onInited:function({storeControl:e}){n.query.page?s.commonLoadStep(w((()=>import("./EventEditorConfig.0871638c.js")),[]),"textarea_step",{async onMounted(e){let t=await s.dispatchRoot("GetStoreEvents",{storeName:o});i=t,s.setPartModel(e.name,"form2",null!=t?t:{})}}):alert("缺少page")},extendContext:{},servicePrefix:"PageDemoIndexService"});s=E(s),s=_(s);let p=B(),u=null;function d(){var e=new ZUrlPattern(l);let t={};return e.names.forEach((e=>{t[e]=ZY.rid(6)})),e.stringify(t)}globalThis.getPageCachedModel=function(){return i},globalThis.getFormItem=function({formName:e="process-step2",depId:t="ix4c",itemId:r="ix4c-ufobWE"}={},o=i){const n=ZY.lodash,a=ZY.JSON5;let l=o.forms.find((t=>t.name===e)),s=a.parse(l.value),p=s.parts[0],u=a.parse(p.props);if(Array.isArray(u.deps)){let e=u.deps.find((e=>e.id===t));if(e&&Array.isArray(e.items)){let t=e.items.find((e=>e.id===r));if(t)return{setData(e={}){let r=a.parse(item0.data);n.each(e,(function(e,t){let o=e;n.isFunction(o)&&(o=e()),n.set(r,t,o)})),t.data=a.stringify(r),p.props=a.stringify(u),l.value=a.stringify(s)}};console.log("curItem",e,t)}}return null},s.setEventHandler({"add:arr:common"(e){let{parts:t,partName:r,pathArr:o,process:i}=e,n=ZY.getObjPathFromPathArr(o);t[r].arrAppend(n)},async"load:file"(e){let t=await ZY_EXT.fileOpenJSON5();t.data&&(await s.dispatchRoot("SetStoreLocal",{storeName:o,data:t.data}),await ZY.sleep(300)),t.layout&&(await s.runRefMethod("layout","importToolsData",t.layout),await ZY.sleep(300),await s.runRefMethod("layout","saveCache2Storage",t.layout)),await ZY.sleep(300),location.reload()},"call:save"(e){s.runRefMethod("layout","save")},"call:save:file"(e){var t;let{partName:r,parts:o}=e,i=o[r].getModel(),n=te(i),a={data:n,date:Date.now()};a.layout=s.runRefMethod("layout","getToolsData");let l=new Date,p=null!=(t=n.name)?t:ZY.rid(6),u=ZY.Time.formatDateTime(l,"YYYY-MM-DD__HH");console.log("call:save:file",a),ZY_EXT.saveObjAsJson5File(a,`page_${p}_${u}_${l.getTime()}`)},"add:part"(e){let{parts:t,partName:r,selfpath:o,process:i}=e;t[r].arrAppend(o)},"add:forms"(e){let{parts:t,partName:r,selfpath:o,process:i}=e;t[r].arrAppend(o)},async"forms:select-form"(e){let{value:t,scope:r}=e,{parts:o,partName:i,selfpath:n,process:a}=u,l={name:t.label,value:t.value};o[i].arrAppend(n,l),await ZY.sleep(300),s.webComponentRef.toggleDialog("form-mana-dialog")},async"load:single:forms"(e){let{parts:t,partName:r,selfpath:o}=e;try{let e=(await H.readFile())[0].value,i=`${o}.value`;t[r].setModelByPath(i,e)}catch(i){}},async"load:single:layoutSlotArr"(e){let{parts:t,partName:r,selfpath:o}=e;try{let e=(await Qt.readFile())[0].value,i=`${o}`;t[r].setModelByPath(i,e)}catch(i){console.log(i)}},async"save:single:forms"(e){let{parts:t,partName:r,selfpath:o}=e,i=t[r].getModel(),n=te(ZY.lodash.get(i,o));console.log("save:single:forms",e,n),await H.saveCache2File([n],{fileName:n.name})},"save:forms"(e){let{parts:t,partName:r}=e,o=t[r].getModel(),i=te(ZY.lodash.get(o,"forms"));p.setStorage(i)},async"save:forms:file"(e){let{parts:t,partName:r}=e,o=t[r].getModel();await H.saveCache2File(ZY.lodash.get(o,"forms",[]))},"open:forms"(e){u=e,s.refsManager.runCom("form-mana-select","load"),s.webComponentRef.toggleDialog("form-mana-dialog")},async"forms:select-layout"(e){let{value:t,scope:r}=e,{parts:o,partName:i,selfpath:n,process:a}=u,l=ZY.JSON5.parse(ZY.JSON5.stringify(t));o[i].arrAppend(n,l),await ZY.sleep(300),s.webComponentRef.toggleDialog("form-layout-dialog")},"open:layoutSlotArr"(e){u=e,s.refsManager.runCom("form-layout-select","load"),s.webComponentRef.toggleDialog("form-layout-dialog")},async"save:single:layoutSlotArr"(e){let{parts:t,partName:r,selfpath:o}=e,i=te(t[r].getModelByPath(o));await Qt.saveCache2File([{name:i.name,value:i}],{fileName:i.name})},"add:events"(e){let{parts:t,partName:r,selfpath:o}=e;t[r].arrAppend(o)},"open:events"(e){u=e,s.refsManager.runCom("form-event-select","load"),s.webComponentRef.toggleDialog("form-event-dialog")},async"save:single:events"(e){let{parts:t,partName:r,selfpath:o}=e,i=t[r].getModel(),n=te(ZY.lodash.get(i,o));await A.saveCache2File([{name:n.name,value:n}],{fileName:n.name})},async"forms:select-event"(e){let{value:t,scope:r}=e,{parts:o,partName:i,selfpath:n,process:a}=u,l=t;o[i].arrAppend(n,l),await ZY.sleep(300),s.webComponentRef.toggleDialog("form-event-dialog")},"remove:events"(e){let{parts:t,partName:r,fromPath:o,indexKey:i}=e;t[r].arrSplice(o,i)},"submit:form"(e){let{scope:t,parts:r}=e;r[t.name].getModel(),t.process,s.store.model.textarea_step},async"load:plumb:layout"(){if(s.ctx.LayoutContext){let e=await ZY_EXT.fileOpenJSON5();e.layout&&(await s.ctx.LayoutContext.importToolsData(e.layout),await ZY.sleep(300),await s.ctx.LayoutContext.saveCache2Storage(e.layout))}},"model:update:all"(e){let{model:t,key:r,newVal:o,config:n}=e;n.process===s.store.model.textarea_step&&(i=t)},preview(){let e=d(),t=ZY.BOM.createWindowManager({url:e,target:"previewWin-"+o});t.open({left:.1*window.innerWidth,top:50,width:1440,height:700}),setTimeout((()=>{t.getReference()}),1e3)}}),w((()=>import("./url-pattern.587966b2.js").then((function(e){return e.u}))),["assets/url-pattern.587966b2.js","assets/vendor.70e2a6e0.js"]).then((e=>{globalThis.ZUrlPattern=e.default}));let c=s.setRef("layout");Q((()=>{}));let h=o+"-play";return{layoutRef:c,store:s.store,onSaveLayout:async function(e){i&&(i.layoutDesign=e.currentData,await s.dispatchRoot("SetStoreLocal",{storeName:o,data:i})),console.log("onSaveLayout",i,e),P({type:j.RELOAD,e:{}})},formula:"x^{y^z}=(1+{\\rm e}^x)^{-2xy^w}",getPreviewUrl:d,layoutStorePrefix:h,page:s,allDef:s.defMap}}}),Ir={key:0,class:"page-search"},Rr=ne("h3",null,"事件",-1),Yr=ne("h3",null,"片段",-1),Zr=ne("h3",null,"表单",-1),Hr={class:"mao-bo-li",style:{position:"sticky",top:"0","z-index":"121",padding:"var(--z-size-10) var(--z-size-10)"}},Br=q("保存"),Lr=q("保存文件"),Fr=q("加载文件"),Ur=q("打开预览"),Vr=ne("h3",null,"组件关系",-1),Xr={key:0},Jr={key:1};Dr.render=function(e,t,r,o,i,n){const a=F("FormsEventSelect"),l=F("CustomElement"),s=F("FormsManaSelect"),p=F("FormsLayoutSelect"),u=F("el-button"),d=F("el-space"),c=F("el-col"),h=F("el-popconfirm"),y=F("ZLayoutEditor"),f=F("z-easy-modal"),m=F("HttpComponent");return e.page.inited?(U(),V("div",Ir,[X(l,{is:"my-vue-dialog",name:"form-event-dialog",params:{sstyle:"width: 60vw; min-width: 720px;"}},{default:J((t=>[X(a,{"com-name":"form-event-select",onSelectForm:r=>e.page.callEvent("forms:select-event",{scope:t,value:r})},null,8,["onSelectForm"])])),_:1}),X(l,{is:"my-vue-dialog",name:"form-mana-dialog",params:{sstyle:"width: 60vw; min-width: 720px;"}},{default:J((t=>[X(s,{"com-name":"form-mana-select",onSelectForm:r=>e.page.callEvent("forms:select-form",{scope:t,value:r})},null,8,["onSelectForm"])])),_:1}),X(l,{is:"my-vue-dialog",name:"form-layout-dialog",params:{sstyle:"width: 60vw; min-width: 720px;"}},{default:J((t=>[X(p,{"com-name":"form-layout-select",onSelectForm:r=>e.page.callEvent("forms:select-layout",{scope:t,value:r})},null,8,["onSelectForm"])])),_:1}),e.store.model.textarea_step?(U(),re(m,{key:0,defs:e.allDef,is:e.store.model.textarea_step,debug:!1},{array_beforebegin:J((t=>["events"===t.key?(U(),re(d,{key:0,align:"middle"},{default:J((()=>[Rr,X(u,{size:"small",onClick:r=>e.page.callEvent("add:events",t)},{default:J((()=>[q("添加"+oe(t.label),1)])),_:2},1032,["onClick"]),X(u,{size:"small",onClick:r=>e.page.callEvent(`open:${t.key}`,t)},{default:J((()=>[q("打开"+oe(t.label)+"管理",1)])),_:2},1032,["onClick"])])),_:2},1024)):"layoutSlotArr"===t.key?(U(),re(d,{key:1,align:"middle"},{default:J((()=>[Yr,X(u,{size:"small",onClick:r=>e.page.callEvent("add:arr:common",t)},{default:J((()=>[q("添加"+oe(t.label),1)])),_:2},1032,["onClick"]),X(u,{size:"small",onClick:r=>e.page.callEvent(`open:${t.key}`,t)},{default:J((()=>[q("打开"+oe(t.label)+"管理",1)])),_:2},1032,["onClick"])])),_:2},1024)):"forms"===t.key?(U(),re(d,{key:2,align:"middle"},{default:J((()=>[Zr,X(u,{size:"small",onClick:r=>e.page.callEvent("add:forms",t)},{default:J((()=>[q("添加"+oe(t.label),1)])),_:2},1032,["onClick"]),X(u,{size:"small",onClick:r=>e.page.callEvent("open:forms",t)},{default:J((()=>[q("打开"+oe(t.label)+"管理",1)])),_:2},1032,["onClick"])])),_:2},1024)):(U(),V(W,{key:3},[],64))])),array_afterbegin:J((e=>["events"!==e.key&&"layoutSlotArr"!==e.key&&"forms"!==e.key?(U(),re(c,{key:0},{default:J((()=>[X(d,{align:"middle"},{default:J((()=>[ne("h3",null,oe(e.selfpath),1)])),_:2},1024)])),_:2},1024)):ie("",!0)])),array_con_beforeend:J((t=>[X(d,{wrap:""},{default:J((()=>[X(h,{title:"确定删除吗？",onConfirm:r=>e.page.callEvent("remove:events",t)},{reference:J((()=>[X(u,{type:"danger",size:"small"},{default:J((()=>[q("删除"+oe(t.label),1)])),_:2},1024)])),_:2},1032,["onConfirm"]),"forms"===t.key?(U(),V(W,{key:0},[X(u,{size:"small",onClick:r=>e.page.callEvent(`save:single:${t.key}`,t)},{default:J((()=>[q("保存"+oe(t.label)+"文件",1)])),_:2},1032,["onClick"]),X(u,{size:"small",onClick:r=>e.page.callEvent(`load:single:${t.key}`,t)},{default:J((()=>[q("导入"+oe(t.label)+"文件",1)])),_:2},1032,["onClick"])],64)):ie("",!0),"events"===t.key?(U(),re(u,{key:1,size:"small",onClick:r=>e.page.callEvent(`save:single:${t.key}`,t)},{default:J((()=>[q("保存"+oe(t.label)+"文件",1)])),_:2},1032,["onClick"])):ie("",!0),"layoutSlotArr"===t.key?(U(),V(W,{key:2},[X(u,{size:"small",onClick:r=>e.page.callEvent(`save:single:${t.key}`,t)},{default:J((()=>[q("保存"+oe(t.label)+"文件",1)])),_:2},1032,["onClick"]),X(u,{size:"small",onClick:r=>e.page.callEvent(`load:single:${t.key}`,t)},{default:J((()=>[q("导入"+oe(t.label)+"文件",1)])),_:2},1032,["onClick"])],64)):ie("",!0)])),_:2},1024)])),form_beforebegin:J((r=>[ne("div",Hr,[X(d,null,{default:J((()=>[X(u,{type:"primary",onClick:t=>e.page.callEvent("call:save",r)},{default:J((()=>[Br])),_:2},1032,["onClick"]),X(u,{type:"primary",onClick:t=>e.page.callEvent("call:save:file",r)},{default:J((()=>[Lr])),_:2},1032,["onClick"]),X(u,{type:"primary",onClick:t[0]||(t[0]=t=>e.page.callEvent("load:file"))},{default:J((()=>[Fr])),_:1}),X(u,{type:"primary",onClick:t[1]||(t[1]=t=>e.page.callEvent("preview"))},{default:J((()=>[Ur])),_:1})])),_:2},1024)])])),prop_beforeend:J((t=>["props"===t.selfpath?(U(),V(W,{key:0},[],64)):"name"===t.selfpath?(U(),V(W,{key:1},[Vr,X(f,null,{default:J((()=>[X(y,{ref:e.layoutRef,controls:!1,"open-panel":!1,"store-prefix":e.layoutStorePrefix,class:"page-layout-editor",onSaveLayout:e.onSaveLayout},null,8,["store-prefix","onSaveLayout"])])),_:1})],64)):(U(),V(W,{key:2},[],64))])),prop_afterbegin:J((e=>["props"===e.selfpath?(U(),V("h3",Xr,"页面变量")):"onInited"===e.selfpath?(U(),V("h3",Jr,"当初始化")):(U(),V(W,{key:2},[],64))])),_:1},8,["defs","is"])):ie("",!0)])):ie("",!0)};export{Dr as default};
