var a=Object.defineProperty,e=(e,t,r)=>(((e,t,r)=>{t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);import{t}from"./vendor.70e2a6e0.js";class r{static async setStorage(a=null){let e=this;return Array.isArray(a)&&a.forEach((a=>{e.formsMap.set(a.name,a.value)})),ZY_EXT.store.setItem(e.STORAGE_KEY,{date:Date.now(),version:ZY.rid(),data:e.formsMap})}static async saveCache2File(a=null,{fileName:e=ZY.rid(6)}={}){if(!a)return Promise.reject(new Error("saveCache2File must has",{cause:new Error("saveCache2File")}));await ZY_EXT.saveObjAsJson5File({data:t(a),date:Date.now(),version:"v1"},this.STORAGE_KEY+"_"+e)}static async readFile(){let a=await ZY_EXT.fileOpenJSON5(),{data:e}=a;return e}static async loadFile(){let a=this,e=await ZY_EXT.fileOpenJSON5(),{data:t}=e;if(Array.isArray(t))return await a.setStorage(t),t}static getOptions(){let a=[];return this.formsMap.forEach(((e,t)=>{a.push({label:t,value:e})})),a}static async init(){let a=this,e=await ZY_EXT.store.getItem(a.STORAGE_KEY);if(e){let{data:t=new Map}=e;t.forEach(((e,t)=>{a.formsMap.set(t,e)}))}}}function s(){return r}function i(a={config:{globalProperties:{}}}){a.config.globalProperties.$FormsMana=r,globalThis._APP_FormsMana=r}e(r,"formsMap",new Map),e(r,"STORAGE_KEY","form-mana-key");export{r as FormsMana,i as install,s as useFormsMana};
