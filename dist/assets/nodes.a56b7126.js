var t=Object.defineProperty,e=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(e,s,n)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,i=(t,i)=>{for(var a in i||(i={}))s.call(i,a)&&r(t,a,i[a]);if(e)for(var a of e(i))n.call(i,a)&&r(t,a,i[a]);return t},a=(t,e,s)=>(r(t,"symbol"!=typeof e?e+"":e,s),s);let o=function(t={},e={},{defaultVal:s={}}={}){let n=ZY.JSON5.stringify(t),r=ZY.JSON5.stringify(e);return`\n    export default {\n  name: 'form-editor',\n  defaultVal: ${ZY.JSON5.stringify(s)},\n  init: {\n    def: {\n      constants: {\n      },\n      parts: [\n        {\n          type: "form",\n          name: "form2",\n          serviceTpl: {\n            def: {},\n            args: {\n              src: "bservice.twig"\n            }\n          },\n          def: ${n},\n          computed: ${r}\n        },\n      ],\n    },\n    args: {\n      src: 'comformscr2.twig'\n    }\n  }\n}\n    `},l=function({properties:t={},computed:e={}}={},s={}){return o({type:"object",ui:{attrs:[["label-width","100px"]]},properties:i({},t)},i({},e),{defaultVal:s})},u=new Map,p=new Map;function h(){return Array.from(p)}class d{constructor(t){a(this,"id"),a(this,"type"),a(this,"name",""),a(this,"content",""),a(this,"editor",""),a(this,"items",[]),a(this,"data",null),a(this,"config",{version:"v1",closure:!1}),this.id=t}}class c extends d{constructor(...t){super(...t),this.config.closure=!0}}class f extends d{constructor(t,e,s){super(t,e),this.editor=`\n${function(t={}){return o({type:"object",ui:{attrs:[["label-width","100px"]]},properties:{attrs:{type:"object",ui:{label:"属性"},properties:{name:{type:"string",ui:{label:"名称"}},styles:{type:"string",computedProp:"ui2_styles",ui:{styles:[],widgetConfig:{type:"textarea",disabled:!0}},rules:{type:"any"}},ui2:{type:"string",ui:{label:"样式配置",widget:"CusStyle",widgetConfig:{mounted:!0}}},attrs:{type:"string",ui:{label:"属性配置",widget:"CusAttr",widgetConfig:{mounted:!0}}}}},items:{type:"array",ui:{label:"子元素"},items:{type:"object",properties:{id:{type:"string",ui:{label:"ID",styles:[["height",0],["overflow","hidden"]]}},w:{type:"string",ui:{label:"长度",widget:"unit-input"},rules:{type:"any"}},h:{type:"string",ui:{label:"高度",widget:"unit-input"},rules:{type:"any"}}}}}}},{doubled:"MODEL('name', '') + ',s'",ui2_styles:"A.get_ui2_styles(MODEL('attrs.ui2'))"},{defaultVal:t})}({form2:{attrs:{}}})}`,this.items=e,this.data||(this.data={items:e,attrs:{}});let n=s.str_data;if(n)try{let t=ZY.JSON5.parse(n);t.attrs&&(this.data.attrs=t.attrs)}catch(r){console.log(r)}}}class y extends f{constructor(t,e,s){super(t,e,s),this.type="column"}}class m extends f{constructor(t,e,s){super(t,e,s),this.type="row"}}class g extends c{constructor(t,e,s){super(t),this.type="form",this.typeLabel="部分",this.editor=`${o({type:"object",ui:{attrs:[["label-width","100px"]]},properties:{name:{type:"string",ui:{label:"名称"}},partName:{type:"string",ui:{label:"页面变量名"}}}},{doubled:"MODEL('name', '') + ',s'"},{defaultVal:{form2:{name:ZY.nid(),parts:[{ui:"{}",props:"{links: [], deps: []}",properties:"{}"}]}}})}`,this.data=e,s&&(this.content=s)}}function b(t){if(t&&t.install){let e=t.install({V1Node:d,ClosureNode:c,LayoutNode:f});u.set(e.type,t),p.set(e.type,e)}}function w(t,e){let s=e.type;if("column"===e.type)t.h=120;else if("row"===e.type)t.w="1fr",t.h=50;else if(p.has(s)){let n=p.get(s);n&&n.handleItemAppend&&n.handleItemAppend(t,e)}else console.log("hahahahahahahahahaha")}function O(t,e){if("row"===t)return new m(e.id,e.items,e);if("column"===t)return new y(e.id,e.items,e);if("form"===t)return new g(e.id,e.data,e.content,e);if(p.has(t)){let s=p.get(t);if(s&&s.fromJSON5)return s.fromJSON5(e)}else console.log("hahahahahahahahahaha")}function N(t,e){if("row"===e.type)return new m(e.id,e.items,e);if("column"===e.type)return new y(e.id,e.items,e);if("form"===e.type)return new g(e.id,e.data,e.content,e);if(p.has(e.type)){let t=e.type,s=p.get(t);if(s&&s.fromJSON5)return s.fromJSON5(e)}else console.log("hahahahahahahahahaha")}let x=new Map;function S(t,e){x.set(t,e)}function j(t){return x.has(t)?x.get(t):null}globalThis.NODE_editorConfig=x;export{b as a,o as b,O as c,N as d,h as e,l as f,j as g,w as h,S as r};
